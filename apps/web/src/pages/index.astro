---
import { globalSettingsResult } from "@/scripts/queries";

const globalSettings = await globalSettingsResult;

// Ensure homepage has a valid slug
if (!globalSettings?.homePageSlug) {
	return Astro.redirect("/404");
}

// Redirect to the homepage with proper slug
return Astro.rewrite(`/${globalSettings.homePageSlug}`);
---
