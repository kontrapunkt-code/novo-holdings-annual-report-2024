---
import type { ModuleProps } from "@/scripts/types";
import SanityImage from "../SanityImage.astro";

type Props = ModuleProps<"articleHeroModule">;

const { title, subtitle, image, date } = Astro.props;

if (!image) return null;

const formattedDate =
	date ?
		new Date(date).toLocaleDateString("en-US", {
			year: "numeric",
			month: "long",
			day: "numeric",
		})
	:	null;
---

<section class="relative min-h-[70vh] flex items-center justify-center">
	<div class="absolute inset-0 z-0">
		<SanityImage
			image={image}
			alt={title ?? ""}
			width={1920}
			height={1080}
			class="w-full h-full object-cover"
			sizes="100vw"
		/>
		<div class="absolute inset-0 bg-black/40"></div>
	</div>
	<div class="relative z-10 max-w-4xl mx-auto text-center text-white px-4">
		{formattedDate && <div class="text-lg mb-4">{formattedDate}</div>}
		<h1 class="text-4xl md:text-6xl font-bold mb-4">{title}</h1>
		{subtitle && <p class="text-xl md:text-2xl">{subtitle}</p>}
	</div>
</section>
