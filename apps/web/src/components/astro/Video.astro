---
import { VideoPlayer } from "@/components/solid/video-player";
import { buildSanityImage } from "@/scripts/image-url-builder";
import type { PageModuleProps } from "@/scripts/queries";

type Props = Partial<
	Extract<
		NonNullable<PageModuleProps<"sideBySideModule">["left"]>[number],
		{ _type: "video" }
	>
>;

const { src, thumbnail, callToAction } = Astro.props ?? {};

const thumbnailSrc =
	thumbnail?.asset ? buildSanityImage(thumbnail.asset, { width: 744 }) : null;
---

<VideoPlayer
	client:load
	src={src ?? ""}
	alt={callToAction ?? ""}
	thumbnailSrc={thumbnailSrc ?? undefined}
	thumbnailAlt={thumbnail?.alt ?? ""}
	callToAction={callToAction}
/>
