---
import { buildSanityImage } from "@/scripts/image-url-builder";
import type { ImageCombo } from "@novo-holdings-annual-report-2024/studio/types";
import { Image } from "astro:assets";

interface Props extends ImageCombo {
	alt: string;
	width?: number;
	height?: number;
	class?: string;
	sizes?: string;
}

const { alt, width, height, class: className, sizes, asset } = Astro.props;
const maxWidth = 1504;

if (!asset) return null;

const url = buildSanityImage(asset, {
	width: Math.min(width ?? maxWidth, maxWidth),
	height,
});
---

<Image
	src={url ?? ""}
	alt={alt}
	class={className}
	width={width}
	height={height}
	inferSize
	sizes={sizes}
/>
